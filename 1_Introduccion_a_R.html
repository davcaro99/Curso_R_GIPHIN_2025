<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Caro, GIPHIN">
<meta name="dcterms.date" content="2025-06-14">

<title>Módulo 1: Introducción a R, tipos de datos y estructuras básicas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="1_Introduccion_a_R_files/libs/clipboard/clipboard.min.js"></script>
<script src="1_Introduccion_a_R_files/libs/quarto-html/quarto.js"></script>
<script src="1_Introduccion_a_R_files/libs/quarto-html/popper.min.js"></script>
<script src="1_Introduccion_a_R_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="1_Introduccion_a_R_files/libs/quarto-html/anchor.min.js"></script>
<link href="1_Introduccion_a_R_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1_Introduccion_a_R_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="1_Introduccion_a_R_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="1_Introduccion_a_R_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="1_Introduccion_a_R_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#qué-es-r" id="toc-qué-es-r" class="nav-link" data-scroll-target="#qué-es-r">¿Qué es R?</a></li>
  <li><a href="#r-es-básicamente-una-calculadora" id="toc-r-es-básicamente-una-calculadora" class="nav-link" data-scroll-target="#r-es-básicamente-una-calculadora">R es (básicamente) una calculadora</a>
  <ul class="collapse">
  <li><a href="#operadores-aritméticos-en-r" id="toc-operadores-aritméticos-en-r" class="nav-link" data-scroll-target="#operadores-aritméticos-en-r">Operadores aritméticos en R</a></li>
  <li><a href="#operadores-lógicos-en-r" id="toc-operadores-lógicos-en-r" class="nav-link" data-scroll-target="#operadores-lógicos-en-r">Operadores lógicos en R</a></li>
  </ul></li>
  <li><a href="#variables-y-tipos-de-datos" id="toc-variables-y-tipos-de-datos" class="nav-link" data-scroll-target="#variables-y-tipos-de-datos">Variables y tipos de datos</a>
  <ul class="collapse">
  <li><a href="#vectores-y-factores-matrices" id="toc-vectores-y-factores-matrices" class="nav-link" data-scroll-target="#vectores-y-factores-matrices">Vectores y factores matrices</a></li>
  <li><a href="#listas-y-matrices" id="toc-listas-y-matrices" class="nav-link" data-scroll-target="#listas-y-matrices">Listas y matrices</a></li>
  <li><a href="#dataframes" id="toc-dataframes" class="nav-link" data-scroll-target="#dataframes">Dataframes</a></li>
  </ul></li>
  <li><a href="#estructuras-de-control" id="toc-estructuras-de-control" class="nav-link" data-scroll-target="#estructuras-de-control">Estructuras de control</a></li>
  <li><a href="#funciones" id="toc-funciones" class="nav-link" data-scroll-target="#funciones">Funciones</a>
  <ul class="collapse">
  <li><a href="#para-ver-la-documentación-de-una-función" id="toc-para-ver-la-documentación-de-una-función" class="nav-link" data-scroll-target="#para-ver-la-documentación-de-una-función">Para ver la documentación de una función:</a></li>
  </ul></li>
  <li><a href="#paquetes-de-r" id="toc-paquetes-de-r" class="nav-link" data-scroll-target="#paquetes-de-r">Paquetes de R</a></li>
  <li><a href="#importación-de-datos" id="toc-importación-de-datos" class="nav-link" data-scroll-target="#importación-de-datos">Importación de datos</a></li>
  <li><a href="#conjunto-de-datos-palmer-penguins" id="toc-conjunto-de-datos-palmer-penguins" class="nav-link" data-scroll-target="#conjunto-de-datos-palmer-penguins">Conjunto de datos: Palmer Penguins</a>
  <ul class="collapse">
  <li><a href="#entender-e-interactuar-con-los-datos" id="toc-entender-e-interactuar-con-los-datos" class="nav-link" data-scroll-target="#entender-e-interactuar-con-los-datos">Entender e interactuar con los datos</a></li>
  <li><a href="#graficando-y-correlacionando-datos" id="toc-graficando-y-correlacionando-datos" class="nav-link" data-scroll-target="#graficando-y-correlacionando-datos">Graficando y correlacionando datos</a></li>
  <li><a href="#pruebas-t-y-anova" id="toc-pruebas-t-y-anova" class="nav-link" data-scroll-target="#pruebas-t-y-anova">Pruebas T y ANOVA</a></li>
  <li><a href="#correlación-y-ggplot" id="toc-correlación-y-ggplot" class="nav-link" data-scroll-target="#correlación-y-ggplot">Correlación y ggplot</a></li>
  </ul></li>
  <li><a href="#estadística-descriptiva" id="toc-estadística-descriptiva" class="nav-link" data-scroll-target="#estadística-descriptiva">Estadística descriptiva</a>
  <ul class="collapse">
  <li><a href="#medidas-de-tendencia-central" id="toc-medidas-de-tendencia-central" class="nav-link" data-scroll-target="#medidas-de-tendencia-central">Medidas de Tendencia Central</a>
  <ul class="collapse">
  <li><a href="#media-aritmética-barx" id="toc-media-aritmética-barx" class="nav-link" data-scroll-target="#media-aritmética-barx">Media Aritmética ( <span class="math inline">\(\bar{x}\)</span>)</a></li>
  <li><a href="#mediana-me" id="toc-mediana-me" class="nav-link" data-scroll-target="#mediana-me">Mediana (<span class="math inline">\(Me\)</span>)</a></li>
  <li><a href="#moda-mo" id="toc-moda-mo" class="nav-link" data-scroll-target="#moda-mo">Moda (Mo)</a></li>
  </ul></li>
  <li><a href="#medidas-de-dispersión" id="toc-medidas-de-dispersión" class="nav-link" data-scroll-target="#medidas-de-dispersión">Medidas de Dispersión</a>
  <ul class="collapse">
  <li><a href="#rango-r" id="toc-rango-r" class="nav-link" data-scroll-target="#rango-r">Rango ( R )</a></li>
  <li><a href="#desviación-estándar-s-o-σ" id="toc-desviación-estándar-s-o-σ" class="nav-link" data-scroll-target="#desviación-estándar-s-o-σ">Desviación Estándar (<span class="math inline">\(s\)</span> o <span class="math inline">\(σ\)</span>)</a></li>
  </ul></li>
  <li><a href="#medidas-de-relación" id="toc-medidas-de-relación" class="nav-link" data-scroll-target="#medidas-de-relación">Medidas de Relación</a>
  <ul class="collapse">
  <li><a href="#correlación-r" id="toc-correlación-r" class="nav-link" data-scroll-target="#correlación-r">Correlación (r)</a></li>
  </ul></li>
  <li><a href="#estadística-descriptiva-multivariada" id="toc-estadística-descriptiva-multivariada" class="nav-link" data-scroll-target="#estadística-descriptiva-multivariada">Estadística Descriptiva Multivariada</a>
  <ul class="collapse">
  <li><a href="#análisis-de-componentes-principales-pca" id="toc-análisis-de-componentes-principales-pca" class="nav-link" data-scroll-target="#análisis-de-componentes-principales-pca">Análisis de Componentes Principales (PCA)</a></li>
  <li><a href="#análisis-de-correspondencias-simples-ca" id="toc-análisis-de-correspondencias-simples-ca" class="nav-link" data-scroll-target="#análisis-de-correspondencias-simples-ca">Análisis de Correspondencias Simples (CA)</a></li>
  <li><a href="#análisis-de-correspondencias-múltiples-mca" id="toc-análisis-de-correspondencias-múltiples-mca" class="nav-link" data-scroll-target="#análisis-de-correspondencias-múltiples-mca">Análisis de Correspondencias Múltiples (MCA)</a></li>
  <li><a href="#métodos-de-clasificación-clustering" id="toc-métodos-de-clasificación-clustering" class="nav-link" data-scroll-target="#métodos-de-clasificación-clustering">Métodos de Clasificación (Clustering)</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Módulo 1: Introducción a R, tipos de datos y estructuras básicas</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>David Caro, GIPHIN </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 14, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introducción" class="level1">
<h1>Introducción</h1>
<p>Este capítulo introduce R como lenguaje de programación enfocado en el análisis de datos. Aprenderemos los tipos de objetos más comunes, cómo crear funciones simples, estructuras de control básicas y cómo importar y explorar conjuntos de datos reales.</p>
</section>
<section id="qué-es-r" class="level1">
<h1>¿Qué es R?</h1>
<p><img src="images/clipboard-1643532529.png" class="img-fluid"></p>
<p><strong>R</strong> es un lenguaje de código abierto utilizado ampliamente en estadística, ciencia de datos y análisis científico. En paleontología y geología, permite analizar y visualizar datos de manera reproducible.</p>
</section>
<section id="r-es-básicamente-una-calculadora" class="level1">
<h1>R es (básicamente) una calculadora</h1>
<p>De mayor a menor precedencia:</p>
<ol type="1">
<li><p>Paréntesis: <code>(</code>, <code>)</code></p></li>
<li><p>Exponente: <code>^</code> o <code>**</code></p></li>
<li><p>División: <code>/</code></p></li>
<li><p>Multiplicación: <code>*</code></p></li>
<li><p>Suma: <code>+</code></p></li>
<li><p>Resta <code>-</code></p></li>
</ol>
<p>R permite hacer todo tipo de operaciones y comparaciones a los objetos que usemos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log10</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">567</span> <span class="sc">/</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 141.75</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.841471</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">!=</span> <span class="dv">2</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&lt;</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<section id="operadores-aritméticos-en-r" class="level2">
<h2 class="anchored" data-anchor-id="operadores-aritméticos-en-r">Operadores aritméticos en R</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 32%">
<col style="width: 16%">
<col style="width: 22%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>Precedencia</th>
<th>Operador</th>
<th>Descripción</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0 (siempre va primero)</td>
<td><code>( )</code></td>
<td>Paréntesis</td>
<td>2 * <code>(3 + 4)</code> → 14</td>
</tr>
<tr class="even">
<td>1 (alta)</td>
<td><code>^</code> o <code>**</code></td>
<td>Potencia</td>
<td><code>2 ^ 3</code> → 8</td>
</tr>
<tr class="odd">
<td>2</td>
<td><code>-</code></td>
<td>Negación</td>
<td><code>-5</code> → -5</td>
</tr>
<tr class="even">
<td>3</td>
<td><code>*</code></td>
<td>Multiplicación</td>
<td><code>4 * 2</code> → 8</td>
</tr>
<tr class="odd">
<td>3</td>
<td><code>/</code></td>
<td>División real</td>
<td><code>8 / 2</code> → 4</td>
</tr>
<tr class="even">
<td>3</td>
<td><code>%%</code></td>
<td>Módulo (resto)</td>
<td><code>10 %% 3</code> → 1</td>
</tr>
<tr class="odd">
<td>3</td>
<td><code>%/%</code></td>
<td>División entera</td>
<td><code>10 %/% 3</code> → 3</td>
</tr>
<tr class="even">
<td>4 (baja)</td>
<td><code>+</code></td>
<td>Suma</td>
<td><code>3 + 5</code> → 8</td>
</tr>
<tr class="odd">
<td>4</td>
<td><code>-</code></td>
<td>Resta</td>
<td><code>7 - 2</code> → 5</td>
</tr>
</tbody>
</table>
</section>
<section id="operadores-lógicos-en-r" class="level2">
<h2 class="anchored" data-anchor-id="operadores-lógicos-en-r">Operadores lógicos en R</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Operador</th>
<th>Nombre</th>
<th>Descripción</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;</code></td>
<td>Menor que</td>
<td>Compara si un valor es menor</td>
<td><code>5 &lt; 10</code> → <code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td>Menor o igual</td>
<td></td>
<td><code>5 &lt;= 5</code> → <code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>Mayor que</td>
<td></td>
<td><code>10 &gt; 3</code> → <code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>Mayor o igual</td>
<td></td>
<td><code>4 &gt;= 4</code> → <code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>==</code></td>
<td>Igual a</td>
<td>Comparación de igualdad</td>
<td><code>3 == 3</code> → <code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>Distinto de</td>
<td></td>
<td><code>5 != 4</code> → <code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>&amp;</code></td>
<td>Y lógico (elemento a elemento)</td>
<td>Ambos deben ser verdaderos</td>
<td><code>TRUE &amp; FALSE</code> → <code>FALSE</code></td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>O lógico (elemento a elemento)</td>
<td>Uno de los dos debe ser verdadero</td>
<td><code>c(TRUE, FALSE, FALSE)| c(TRUE, TRUE, FALSE)</code> → <code>TRUE  TRUE  FALSE</code></td>
</tr>
<tr class="odd">
<td><code>&amp;&amp;</code></td>
<td>Y lógico (primer elemento)</td>
<td>Solo compara el primer valor</td>
<td><code>c(TRUE, FALSE) &amp;&amp; c(TRUE, TRUE)</code> → <code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>||</code></td>
<td>O lógico (primer elemento)</td>
<td>Solo compara el primer valor</td>
<td><code>c(TRUE, FALSE, TRUE) || c(FALSE, TRUE, FALSE)</code>→ <code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>%in%</code></td>
<td>Se encuentra en</td>
<td>Evalua si el valor está presente en la matriz</td>
<td><code>"a" %in% c ("b", "b", "a", "x","b","x")</code> → <code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>!</code></td>
<td>Negación lógica</td>
<td>Invierte el valor lógico</td>
<td><code>!TRUE</code> → <code>FALSE</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="variables-y-tipos-de-datos" class="level1">
<h1>Variables y tipos de datos</h1>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Asignación de variables</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">120</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>formacion <span class="ot">&lt;-</span> <span class="st">"Rosa Blanca"</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>es_marine <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Tipos de datos</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(edad)        <span class="co"># numeric</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(formacion)   <span class="co"># character</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(es_marine)   <span class="co"># logical</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="vectores-y-factores-matrices" class="level2">
<h2 class="anchored" data-anchor-id="vectores-y-factores-matrices">Vectores y factores matrices</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear vectores</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>litologias <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"micrita"</span>, <span class="st">"lutita"</span>, <span class="st">"arenita"</span>, <span class="st">"micrita"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(litologias)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "micrita" "lutita"  "arenita"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir a factor</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>litologias <span class="ot">&lt;-</span> <span class="fu">factor</span>(litologias)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(litologias)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "arenita" "lutita"  "micrita"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Operar sobre vectores</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  4  8 16 32</code></pre>
</div>
</div>
</section>
<section id="listas-y-matrices" class="level2">
<h2 class="anchored" data-anchor-id="listas-y-matrices">Listas y matrices</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Las listas son como vectores pero permiten varios tipos de datos</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>lista <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="st">"a"</span>, <span class="cn">TRUE</span>, <span class="dv">1</span><span class="sc">+</span><span class="dv">4</span>i)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>lista</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>lista_2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Numbers"</span>, <span class="at">numbers =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">data =</span> <span class="cn">TRUE</span> )</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>lista_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Las matrices son listas bidimensionales</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>matrix_example <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">18</span>, <span class="at">ncol=</span><span class="dv">6</span>, <span class="at">nrow=</span><span class="dv">3</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>matrix_example</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5] [,6]
[1,]    1    4    7   10   13   16
[2,]    2    5    8   11   14   17
[3,]    3    6    9   12   15   18</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(matrix_example)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co">#ncol</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dataframes" class="level2">
<h2 class="anchored" data-anchor-id="dataframes">Dataframes</h2>
<p>Los dataframes son los objetos más usados en R</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Un data frame se es como una matriz pero tiene caracteristicas especiales</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>ratones <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">color =</span> <span class="fu">c</span>(<span class="st">"gris"</span>, <span class="st">"negro"</span>, <span class="st">"blanco"</span>),</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">peso =</span> <span class="fu">c</span>(<span class="fl">0.4</span>, <span class="fl">0.2</span>, <span class="fl">0.6</span>),</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tiene_cria =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>))                    </span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ratones)                  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   color peso tiene_cria
1   gris  0.4          1
2  negro  0.2          0
3 blanco  0.6          1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cada columna de un df tiene puede tener una clase diferente</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co">#las columnas se pueden indexar por su nombre</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(ratones<span class="sc">$</span>color)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section>
</section>
<section id="estructuras-de-control" class="level1">
<h1>Estructuras de control</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Condicional</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;=</span> <span class="dv">50</span>) {</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x es ayor o igual que 50"</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">50</span>) {</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x es mayor a 50, pero menor a 100"</span>)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x es menor a 50"</span>)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x es ayor o igual que 50"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bucle for</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Se pueden correr bucles dentro de bucles</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="fu">c</span>(<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>)){</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(i,j))</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1 a"
[1] "1 b"
[1] "1 c"
[1] "2 a"
[1] "2 b"
[1] "2 c"
[1] "3 a"
[1] "3 b"
[1] "3 c"
[1] "4 a"
[1] "4 b"
[1] "4 c"
[1] "5 a"
[1] "5 b"
[1] "5 c"</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio
</div>
</div>
<div class="callout-body-container callout-body">
<p>Escribe un codigo que con un vector x 1:10 evalue cada número e imprima si es par o impar</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> x){</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (i<span class="sc">%%</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(i,<span class="st">"es par"</span>))</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(i,<span class="st">"es impar"</span>))</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1 es impar"
[1] "2 es par"
[1] "3 es impar"
[1] "4 es par"
[1] "5 es impar"
[1] "6 es par"
[1] "7 es impar"
[1] "8 es par"
[1] "9 es impar"
[1] "10 es par"</code></pre>
</div>
</div>
</section>
<section id="funciones" class="level1">
<h1>Funciones</h1>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Documentación o ayuda
</div>
</div>
<div class="callout-body-container callout-body">
<p>Todas las funciones en R ya sean de base o de algún paquete tiene una documentación que nos explica su funcionamiento, sus argumentos y su salida.</p>
</div>
</div>
<section id="para-ver-la-documentación-de-una-función" class="level2">
<h2 class="anchored" data-anchor-id="para-ver-la-documentación-de-una-función">Para ver la documentación de una función:</h2>
<ul>
<li><p><code>?función</code></p></li>
<li><p><code>help(función)</code></p></li>
<li><p><code>??función</code> cuando no se conoce bien el nombre de la función</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Función simple</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>doblar <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">*</span> <span class="dv">2</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="fu">doblar</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Para crear un error, podemos usar la función stop() y que el codigo pare</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co">#si las condiciones no se están cumpliendo</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co">#R provee la función stopifnot() para no tener que crear un condicional if</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio
</div>
</div>
<div class="callout-body-container callout-body">
<p>Escribe una función que convierta de grados kelvin a celsius y pare si los datos ingresados no son numericos</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>kelvin_a_celsius <span class="ot">&lt;-</span> <span class="cf">function</span>(temp) {</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stopifnot</span>(<span class="fu">is.numeric</span>(temp))</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  kelvin <span class="ot">&lt;-</span> temp <span class="sc">-</span> <span class="fl">273.15</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(temp)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(kelvin)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="fu">kelvin_a_celsius</span>(<span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 26.85</code></pre>
</div>
</div>
</section>
</section>
<section id="paquetes-de-r" class="level1">
<h1>Paquetes de R</h1>
<p>Un <strong>paquete</strong> es una colección de funciones, datos y documentación que amplía las capacidades básicas de R. Existen miles de paquetes creados por la comunidad científica para tareas específicas como visualización, análisis geoespacial, manipulación de datos, entre otros.</p>
<ul>
<li><p>Algunos de los paquetes que vamos a usar:</p>
<ul>
<li><p><code>Tidyverse</code> conjunto de paquetes para manipular y visualizar datos de forma organizada.</p>
<ul>
<li><code>ggplot2</code> para gráficos y visualizaciones.</li>
<li><code>dplyr</code> para manipulación de datos.</li>
</ul></li>
<li><p><code>SDAR</code> permite crear columnas estratigraficas facilmente.</p></li>
<li><p><code>paleoverse</code> conjunto de paquetes orientados a paleontología.</p>
<ul>
<li><code>macrostrat</code> permite visualizar y cargar para datos estratigráficos.</li>
<li><code>sepkosky</code> permite visualizar y acceder a datos de géneros de fosiles marinos.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="importación-de-datos" class="level1">
<h1>Importación de datos</h1>
<p>En R hay varias formas de importar datos, se pueden leer los archivos usando las funciones base de R, que permiten cargar diversos formatos, se pueden usar las funciones del paquete <code>readr</code> o se pueden importar por medio de un paquete que contiene un dataset.</p>
</section>
<section id="conjunto-de-datos-palmer-penguins" class="level1">
<h1>Conjunto de datos: Palmer Penguins</h1>
<p><img src="images/clipboard-3699167880.png" class="img-fluid"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("palmerpenguins")</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizar</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [344 × 8] (S3: tbl_df/tbl/data.frame)
 $ species          : Factor w/ 3 levels "Adelie","Chinstrap",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ island           : Factor w/ 3 levels "Biscoe","Dream",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ bill_length_mm   : num [1:344] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
 $ bill_depth_mm    : num [1:344] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
 $ flipper_length_mm: int [1:344] 181 186 195 NA 193 190 181 195 193 190 ...
 $ body_mass_g      : int [1:344] 3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...
 $ sex              : Factor w/ 2 levels "female","male": 2 1 1 NA 1 2 1 2 NA NA ...
 $ year             : int [1:344] 2007 2007 2007 2007 2007 2007 2007 2007 2007 2007 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      species          island    bill_length_mm  bill_depth_mm  
 Adelie   :152   Biscoe   :168   Min.   :32.10   Min.   :13.10  
 Chinstrap: 68   Dream    :124   1st Qu.:39.23   1st Qu.:15.60  
 Gentoo   :124   Torgersen: 52   Median :44.45   Median :17.30  
                                 Mean   :43.92   Mean   :17.15  
                                 3rd Qu.:48.50   3rd Qu.:18.70  
                                 Max.   :59.60   Max.   :21.50  
                                 NA's   :2       NA's   :2      
 flipper_length_mm  body_mass_g       sex           year     
 Min.   :172.0     Min.   :2700   female:165   Min.   :2007  
 1st Qu.:190.0     1st Qu.:3550   male  :168   1st Qu.:2007  
 Median :197.0     Median :4050   NA's  : 11   Median :2008  
 Mean   :200.9     Mean   :4202                Mean   :2008  
 3rd Qu.:213.0     3rd Qu.:4750                3rd Qu.:2009  
 Max.   :231.0     Max.   :6300                Max.   :2009  
 NA's   :2         NA's   :2                                 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#glimpse(penguins)</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Para tener una mejor idea de los datos seleccionamos 10 al azar</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>penguins[<span class="fu">sample</span>(<span class="fu">nrow</span>(penguins), <span class="dv">10</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 8
   species   island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
   &lt;fct&gt;     &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
 1 Chinstrap Dream            50.9          17.9               196        3675
 2 Gentoo    Biscoe           45.8          14.2               219        4700
 3 Adelie    Dream            44.1          19.7               196        4400
 4 Adelie    Dream            36.3          19.5               190        3800
 5 Chinstrap Dream            48.1          16.4               199        3325
 6 Gentoo    Biscoe           46.4          15                 216        4700
 7 Adelie    Biscoe           41.3          21.1               195        4400
 8 Adelie    Dream            39            18.7               185        3650
 9 Chinstrap Dream            52            18.1               201        4050
10 Adelie    Dream            39.6          18.8               190        4600
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(penguins<span class="sc">$</span>island)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Torgersen Biscoe    Dream    
Levels: Biscoe Dream Torgersen</code></pre>
</div>
</div>
<section id="entender-e-interactuar-con-los-datos" class="level2">
<h2 class="anchored" data-anchor-id="entender-e-interactuar-con-los-datos">Entender e interactuar con los datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraer solo ciertas filas y columnas para crear subsets</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>penguins[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 5
   species island    body_mass_g sex     year
   &lt;fct&gt;   &lt;fct&gt;           &lt;int&gt; &lt;fct&gt;  &lt;int&gt;
 1 Adelie  Torgersen        3750 male    2007
 2 Adelie  Torgersen        3800 female  2007
 3 Adelie  Torgersen        3250 female  2007
 4 Adelie  Torgersen          NA &lt;NA&gt;    2007
 5 Adelie  Torgersen        3450 female  2007
 6 Adelie  Torgersen        3650 male    2007
 7 Adelie  Torgersen        3625 female  2007
 8 Adelie  Torgersen        4675 male    2007
 9 Adelie  Torgersen        3475 &lt;NA&gt;    2007
10 Adelie  Torgersen        4250 &lt;NA&gt;    2007
# ℹ 334 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># la función select pertenece a tidyverse y permite selccionar solo lo descrito</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># el operador %&gt;% se llama pipe y nos deja pasar un obejto por una o más funciones</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(bill_length_mm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 1
   bill_length_mm
            &lt;dbl&gt;
 1           39.1
 2           39.5
 3           40.3
 4           NA  
 5           36.7
 6           39.3
 7           38.9
 8           39.2
 9           34.1
10           42  
# ℹ 334 more rows</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio
</div>
</div>
<div class="callout-body-container callout-body">
<p>Crea un data frame llamado <code>penguins_2009</code> que sea el subset de penguins, que solo tenga los datos del año 2009, que no tenga las medidas de tamaño y sin los valores NA. Usa la función <code>na.omit( )</code></p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>penguins_2009 <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(penguins[penguins<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2009</span>, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>)])</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>penguins_2009</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 117 × 5
   species island body_mass_g sex     year
   &lt;fct&gt;   &lt;fct&gt;        &lt;int&gt; &lt;fct&gt;  &lt;int&gt;
 1 Adelie  Biscoe        3725 female  2009
 2 Adelie  Biscoe        4725 male    2009
 3 Adelie  Biscoe        3075 female  2009
 4 Adelie  Biscoe        4250 male    2009
 5 Adelie  Biscoe        2925 female  2009
 6 Adelie  Biscoe        3550 male    2009
 7 Adelie  Biscoe        3750 female  2009
 8 Adelie  Biscoe        3900 male    2009
 9 Adelie  Biscoe        3175 female  2009
10 Adelie  Biscoe        4775 male    2009
# ℹ 107 more rows</code></pre>
</div>
</div>
<p>R permite calcular muy facilmente los valores importantes de <a href="#estadística-descriptiva">Estadística descriptiva</a> para un dataset, hay algunos paquetes que hacen esto incluso más sencillo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Esta libreria tiene funciones muy utiles para estadística descriptiva</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("psych")</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>mass_2009 <span class="ot">&lt;-</span> penguins_2009<span class="sc">$</span>body_mass_g</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculamos el promedio y la desviación estandar de los datos</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mass_2009)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4200.214</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(mass_2009)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 826.2301</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mass_2009)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   2900    3500    4000    4200    4850    6000 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co">#La función describe del paquete psych nos da una mejor visión de los datos</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(mass_2009)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   vars   n    mean     sd median trimmed    mad  min  max range skew kurtosis
X1    1 117 4200.21 826.23   4000 4160.26 926.62 2900 6000  3100 0.42    -1.01
      se
X1 76.39</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co">#plot(penguins_2009$body_mass_g)</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mass_2009)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="1_Introduccion_a_R_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Histograma</figcaption>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co">#La función decribeBy nos permite ver los valores por grupo</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="co">#cada grupo es una especie ya que son diferentes poblaciones</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="fu">describeBy</span>( <span class="at">x=</span>penguins_2009<span class="sc">$</span>body_mass_g, <span class="at">group=</span>penguins_2009<span class="sc">$</span>species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Descriptive statistics by group 
group: Adelie
   vars  n   mean     sd median trimmed    mad  min  max range skew kurtosis
X1    1 52 3664.9 475.25   3600  3637.5 463.31 2900 4775  1875 0.44    -0.58
      se
X1 65.91
------------------------------------------------------------ 
group: Chinstrap
   vars  n mean    sd median trimmed    mad  min  max range skew kurtosis    se
X1    1 24 3725 330.1   3675  3707.5 407.71 3250 4450  1200 0.35    -0.84 67.38
------------------------------------------------------------ 
group: Gentoo
   vars  n    mean     sd median trimmed    mad  min  max range skew kurtosis
X1    1 41 5157.32 426.73   5200 5143.18 518.91 4375 6000  1625 0.15    -1.17
      se
X1 66.64</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidyverse nos permite agrupar y ordenar los datos como deseemos</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>mass_by_island_species <span class="ot">&lt;-</span> penguins_2009 <span class="sc">%&gt;%</span> </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(island,species) <span class="sc">%&gt;%</span> </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_mass=</span><span class="fu">mean</span>(body_mass_g),</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd_mass=</span><span class="fu">sd</span>(body_mass_g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'island'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>mass_by_island_species</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
# Groups:   island [3]
  island    species   mean_mass sd_mass
  &lt;fct&gt;     &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;
1 Biscoe    Adelie        3858.    579.
2 Biscoe    Gentoo        5157.    427.
3 Dream     Adelie        3651.    398.
4 Dream     Chinstrap     3725     330.
5 Torgersen Adelie        3489.    398.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co">#tambien existe la función mutate que nos permite crear nuevas variables</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>mass_2009_kg <span class="ot">&lt;-</span> penguins_2009 <span class="sc">%&gt;%</span> </span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_kg=</span>body_mass_g<span class="sc">/</span><span class="dv">1000</span>)</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>mass_2009_kg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 117 × 6
   species island body_mass_g sex     year body_mass_kg
   &lt;fct&gt;   &lt;fct&gt;        &lt;int&gt; &lt;fct&gt;  &lt;int&gt;        &lt;dbl&gt;
 1 Adelie  Biscoe        3725 female  2009         3.72
 2 Adelie  Biscoe        4725 male    2009         4.72
 3 Adelie  Biscoe        3075 female  2009         3.08
 4 Adelie  Biscoe        4250 male    2009         4.25
 5 Adelie  Biscoe        2925 female  2009         2.92
 6 Adelie  Biscoe        3550 male    2009         3.55
 7 Adelie  Biscoe        3750 female  2009         3.75
 8 Adelie  Biscoe        3900 male    2009         3.9 
 9 Adelie  Biscoe        3175 female  2009         3.18
10 Adelie  Biscoe        4775 male    2009         4.78
# ℹ 107 more rows</code></pre>
</div>
</div>
</section>
<section id="graficando-y-correlacionando-datos" class="level2">
<h2 class="anchored" data-anchor-id="graficando-y-correlacionando-datos">Graficando y correlacionando datos</h2>
<p>Para graficar usaremos la libreria <code>ggplot</code>, si bien la función base <code>plot</code> nos permite crear graficas <code>ggplot</code> añade muchas opciones y mejor calidad, también se puede usar la libreria <code>ggpubr</code> que facilita el uso de <code>ggplot</code> para algunas graficas (usaremos unos ejemplos de <code>ggpubr</code> en donde mejor se desempeña), pero nos vamos a centrar en <code>ggplot</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co">#ggplot viene incluida en Tidyverse y permite crear graficos de gran calidad</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggplot2")</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co">#ggpubr nos permite crear graficas usando ggplot pero con mayor facilidad</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggpubr")</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>ggpubr</code> facilita mucho el uso y creación de algunas graficas como:</p>
<ul>
<li><p>Histogramas</p></li>
<li><p>Diagramas de caja</p></li>
<li><p>Diagramas de dispersión</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Se invoca la función con el dataset</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbarplot</span>(penguins,</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>          <span class="co">#Se dice que datos van a ocupar cada eje</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"species"</span>,</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="st">"bill_length_mm"</span>,</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>          <span class="co">#Se añade la desviación estandar</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">add =</span> <span class="fu">c</span>(<span class="st">"mean_sd"</span>),</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>          <span class="co">#Que determina el relleno de los datos</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">fill =</span> <span class="st">"species"</span>,</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>          <span class="co">#Se añaden las etiquetas</span></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">label =</span> <span class="cn">TRUE</span>,</span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>          <span class="co">#Cantidad de digitos en las etiquetas</span></span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">lab.nb.digits =</span> <span class="dv">2</span>,</span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a>          <span class="co">#Color y ajuste vertical de las etiquetas</span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">lab.vjust =</span> <span class="sc">-</span><span class="fl">2.2</span>,</span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">lab.col =</span> <span class="st">"red"</span>,</span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a>          <span class="co">#Titulo, subtitulo y valores de las etiquetas de los ejes </span></span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Longitud media del pico de los pingüinos"</span>,</span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"La barra de error muestran la desviación estandar"</span>,</span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">"Especies"</span>,</span>
<span id="cb82-21"><a href="#cb82-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylab =</span> <span class="st">"Largo del pico (mm)"</span>,</span>
<span id="cb82-22"><a href="#cb82-22" aria-hidden="true" tabindex="-1"></a>          <span class="co">#Paleta de colores y limite de los ejes</span></span>
<span id="cb82-23"><a href="#cb82-23" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">60</span>),</span>
<span id="cb82-24"><a href="#cb82-24" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"npg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="1_Introduccion_a_R_files/figure-html/Histograma-ggpubr-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Histograma picos ggpubr</figcaption>
</figure>
</div>
</div>
</div>
<p><img src="images/clipboard-2493616168.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio
</div>
</div>
<div class="callout-body-container callout-body">
<p>Crea un diagrama de violín o de densidad usando <code>ggviolin()</code> o <code>ggdensity()</code></p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggviolin</span>(penguins ,</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"species"</span>,</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="st">"bill_depth_mm"</span>,</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Profundidad promedio del pico de los pingüinos"</span>,</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">"Especies de pingüinos"</span>,</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylab =</span> <span class="st">"Profundidad del pico (mm)"</span>,</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">fill =</span> <span class="st">"species"</span>,</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"npg"</span>,</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">add =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">shape =</span> <span class="st">"species"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="1_Introduccion_a_R_files/figure-html/violin-plot-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>gráfica de víolin ggpubr</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggdensity</span>(penguins,</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"body_mass_g"</span>,</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"species"</span>,</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">rug =</span> <span class="cn">TRUE</span>,</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">fill =</span> <span class="st">"species"</span>,</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">add =</span> <span class="st">"mean"</span>,</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Masa corporal promedio de los pingüinos"</span>,</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">"Masa corporal (g)"</span>,</span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"lancet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="1_Introduccion_a_R_files/figure-html/density-plot-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>gráfica de densidad ggpubr</figcaption>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Guardad gráficas en <code>ggpubr</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Usando la función <code>ggexport()</code> se pueden guardar las gráficas</p>
<pre><code>ggexport(filename = "my_plot.png", width = 800, height = 600, res = 150)</code></pre>
</div>
</div>
</section>
<section id="pruebas-t-y-anova" class="level2">
<h2 class="anchored" data-anchor-id="pruebas-t-y-anova">Pruebas T y ANOVA</h2>
<p>El análisis de varianza (ANOVA) es una&nbsp;prueba estadística utilizada para comparar las medias de tres o más grupos.&nbsp;Analiza la varianza dentro y entre grupos para determinar si las diferencias entre las medias son significativas. <strong>La prueba T</strong> se usa entre dos grupos.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Valor p
</div>
</div>
<div class="callout-body-container callout-body">
<p>El famoso <strong>valor p</strong>, también conocido como valor de probabilidad,&nbsp;es un número que indica la probabilidad de obtener los resultados observados o más extremos que los observados, si la hipótesis nula fuera verdadera.&nbsp;En otras palabras, representa la evidencia en contra de la hipótesis nula.&nbsp;</p>
<ul>
<li><p><strong>Valor p bajo (inferior a 0.05):</strong></p>
<p>Indica que los resultados son estadísticamente significativos, es decir, es poco probable que se deban al azar si la hipótesis nula fuera cierta. Se suele rechazar la hipótesis nula cuando el valor p es menor que 0.05.</p></li>
<li><p><strong>Valor p alto (superior a 0.05):</strong></p>
<p>Indica que no hay evidencia suficiente para rechazar la hipótesis nula, es decir, los resultados podrían deberse al azar.&nbsp;</p></li>
</ul>
<p>los asteriscos&nbsp;indican el nivel de significancia estadística.&nbsp;Normalmente, un asterisco <code>*</code> indica significancia al nivel de 0.05 (95%), dos asteriscos <code>**</code> al nivel de 0.01 (99%), y tres <code>***</code> al nivel de 0.001 (99.9%).&nbsp;Esto significa que existe una alta probabilidad de que la relación observada en la muestra sea también verdadera en la población general.&nbsp;</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>comparar <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>), <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Gentoo"</span>), <span class="fu">c</span>(<span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span>))</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggboxplot</span>(penguins ,</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"species"</span>,</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="st">"bill_depth_mm"</span>,</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Profundidad promedio del pico de los pingüinos"</span>,</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">"Especies de pingüinos"</span>,</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">ylab =</span> <span class="st">"Profundidad del pico (mm)"</span>,</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"species"</span>,</span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"npg"</span>,</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">add =</span> <span class="st">"jitter"</span>,</span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">shape =</span> <span class="st">"species"</span>) <span class="sc">+</span> </span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_compare_means</span>(<span class="at">method =</span> <span class="st">"anova"</span>, <span class="at">label.y =</span> <span class="dv">25</span>) <span class="sc">+</span> <span class="co">#anova test</span></span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_compare_means</span>(<span class="at">comparisons =</span> comparar, <span class="at">method =</span> <span class="st">"t.test"</span>) <span class="co"># post hoc test using t-test</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="1_Introduccion_a_R_files/figure-html/ANOVA-ggpubr-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>ANOVA y T-test ggpubr</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="correlación-y-ggplot" class="level2">
<h2 class="anchored" data-anchor-id="correlación-y-ggplot">Correlación y ggplot</h2>
<p>Primero veremos como podemos explorar los datos usando gráficas con <code>ggplot</code></p>
<p>En <code>ggplot</code> podemos agregar cada caracteristica que deseemos a la gráfica usando <code>+</code> todo los detalles y opciones se pueden encontrar en: <a href="https://ggplot2.tidyverse.org/reference/index.html">referencia del paquete ggplot2</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Invocamos la función ggplot() con los datos a usar</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="co"># aes()determina que valor cumple cada variable en el data set</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> sex, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Elige el tema minimal</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Con facet se agrupan las tres gráficas</span></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>species, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Se voltean los histogramas para ser verticales</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="1_Introduccion_a_R_files/figure-html/sex-species-histogram-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Histograma por especie</figcaption>
</figure>
</div>
</div>
</div>
<p>La correlación entre los datos se puede ver por cada par de variables, lo más común con varias varibles es graficar como se correlaciona cada par, el coeficiente varia de -1 hasta 1, <code>*</code> significa un valor de p menor a 0.05, <code>**</code> es un valor de p 0.1</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co">#El paquete GGally nos permite hacer automaticamente un diagrama de</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="co"># dispersión y densidad "kernel" por cada par de variables</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(species, body_mass_g, <span class="fu">ends_with</span>(<span class="st">"_mm"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>(<span class="fu">aes</span>(<span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"darkorange"</span>,<span class="st">"purple"</span>,<span class="st">"cyan4"</span>)) <span class="sc">+</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"darkorange"</span>,<span class="st">"purple"</span>,<span class="st">"cyan4"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="1_Introduccion_a_R_files/figure-html/Correlation-penguins-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Correlación entre las diferentes variables de los pingüinos</figcaption>
</figure>
</div>
</div>
</div>
<p>Los modelos lineales nos permiten crear un modelo que usando la correlación entre las variables nos permite clasificar o predecir una variable con respecto a la otra u otras</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hacemos una gráfica que muestra la profundidad del pico y el largo</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Graficamos las lineas del modelo lineal para cada especie</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> bill_depth_mm, <span class="at">y =</span> bill_length_mm, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfica de dispersión</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Podemos hacer una elipse para cada especie y mostrar como encajan los datos</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#stat_ellipse(type = "norm")+</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lineas del modelo lineal</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Seleccionamos la escala de colores para que cuadre</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"darkorange"</span>,<span class="st">"purple"</span>,<span class="st">"cyan4"</span>)) <span class="sc">+</span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Le damos un título </span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="fu">substitute</span>(<span class="fu">paste</span>(<span class="st">"Medidas del pico por especie del género "</span>, <span class="fu">italic</span>(<span class="st">"Pygoscelis"</span>))))<span class="sc">+</span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Cambiamos los nombres de los ejes</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Profundidad del pico (mm)"</span>)<span class="sc">+</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Largo del pico (mm)"</span>) <span class="sc">+</span></span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="st">"Especies"</span>)<span class="sc">+</span></span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ajustamos el título y cambiamos la leyenda cursiva</span></span>
<span id="cb89-19"><a href="#cb89-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),<span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"italic"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="1_Introduccion_a_R_files/figure-html/lm_penguins_bill-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Modelo lineal y correlación en los picos de los pingüinos</figcaption>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ahora haremos un moedlo lineal para ver como el largo afecta la profundidad</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>modelo1 <span class="ot">&lt;-</span>  <span class="fu">lm</span>(bill_length_mm <span class="sc">~</span> bill_depth_mm, <span class="at">data =</span> penguins)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(modelo1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = bill_length_mm ~ bill_depth_mm, data = penguins)

Residuals:
     Min       1Q   Median       3Q      Max 
-12.8949  -3.9042  -0.3772   3.6800  15.5798 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    55.0674     2.5160  21.887  &lt; 2e-16 ***
bill_depth_mm  -0.6498     0.1457  -4.459 1.12e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 5.314 on 340 degrees of freedom
  (2 observations deleted due to missingness)
Multiple R-squared:  0.05525,   Adjusted R-squared:  0.05247 
F-statistic: 19.88 on 1 and 340 DF,  p-value: 1.12e-05</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Haremos un nuevo modelo usando tmabién las especies</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>modelo2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(bill_length_mm <span class="sc">~</span> bill_depth_mm <span class="sc">+</span> species,</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> penguins)</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(modelo2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = bill_length_mm ~ bill_depth_mm + species, data = penguins)

Residuals:
    Min      1Q  Median      3Q     Max 
-8.0300 -1.5828  0.0733  1.6925 10.0313 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       13.2164     2.2475    5.88 9.83e-09 ***
bill_depth_mm      1.3940     0.1220   11.43  &lt; 2e-16 ***
speciesChinstrap   9.9390     0.3678   27.02  &lt; 2e-16 ***
speciesGentoo     13.4033     0.5118   26.19  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.518 on 338 degrees of freedom
  (2 observations deleted due to missingness)
Multiple R-squared:  0.7892,    Adjusted R-squared:  0.7874 
F-statistic: 421.9 on 3 and 338 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p><img src="images/clipboard-425879852.png" class="img-fluid"></p>
<p>(Tomado de <strong>R for Data Science)</strong></p>
</section>
</section>
<section id="estadística-descriptiva" class="level1">
<h1>Estadística descriptiva</h1>
<p>La estadística descriptiva es la base para entender cualquier conjunto de datos y así saber qué análisis realizar y como interpretar estos datos. Aquí se explican las medidas más importantes, primero las medidas univariadas.</p>
<section id="medidas-de-tendencia-central" class="level2">
<h2 class="anchored" data-anchor-id="medidas-de-tendencia-central">Medidas de Tendencia Central</h2>
<section id="media-aritmética-barx" class="level3">
<h3 class="anchored" data-anchor-id="media-aritmética-barx">Media Aritmética ( <span class="math inline">\(\bar{x}\)</span>)</h3>
<p>La <strong>media aritmética</strong>, o simplemente la media, es el promedio de un conjunto de datos. Es la suma de todos los valores dividida por el número total de observaciones. Es muy sensible a valores extremos (outliers), lo que la hace útil para datos distribuidos simétricamente.</p>
<p><span class="math display">\[
\bar{x} = \frac{1}{n} \sum_{i=1}^{n} x_i
\]</span></p>
<p>Donde:</p>
<ul>
<li><span class="math inline">\(\bar{x}\)</span> es la media muestral.</li>
<li><span class="math inline">\(\sum_{i=1}^{n} x_i\)</span> es la suma de todos los valores individuales <span class="math inline">\(x_i\)</span>​ en el conjunto de datos.</li>
<li><span class="math inline">\(n\)</span> es el número total de observaciones.</li>
</ul>
</section>
<section id="mediana-me" class="level3">
<h3 class="anchored" data-anchor-id="mediana-me">Mediana (<span class="math inline">\(Me\)</span>)</h3>
<p>La <strong>mediana</strong> es el valor central en un conjunto de datos cuando estos están ordenados de menor a mayor. Si hay un número impar de observaciones, la mediana es el valor en la posición central. Si hay un número par, es el promedio de los dos valores centrales. La mediana es menos sensible a los valores extremos que la media, lo que la hace una medida robusta para datos asimétricos.</p>
<p><strong>Cómo calcularla</strong>:</p>
<ol type="1">
<li><p>Se ordenan todos los datos de forma ascendente o descendente.</p></li>
<li><p>Si <span class="math inline">\(n\)</span> es impar, la mediana es el valor en la posición <span class="math inline">\((n+1)/2\)</span>.</p></li>
<li><p>Si <span class="math inline">\(n\)</span> es par, la mediana es el promedio de los valores en las posiciones <span class="math inline">\(n/2 y (n/2)+1\)</span>.</p></li>
</ol>
</section>
<section id="moda-mo" class="level3">
<h3 class="anchored" data-anchor-id="moda-mo">Moda (Mo)</h3>
<p>La <strong>moda</strong> es el valor que aparece con mayor frecuencia en un conjunto de datos. Un conjunto de datos puede tener una moda (unimodal), dos modas (bimodal), o más (multimodal), o incluso ninguna moda si todos los valores son únicos.</p>
</section>
</section>
<section id="medidas-de-dispersión" class="level2">
<h2 class="anchored" data-anchor-id="medidas-de-dispersión">Medidas de Dispersión</h2>
<section id="rango-r" class="level3">
<h3 class="anchored" data-anchor-id="rango-r">Rango ( R )</h3>
<p>El <strong>rango</strong> es la diferencia entre el valor máximo y el valor mínimo en un conjunto de datos. Es una medida simple de la dispersión, pero muy susceptible a los valores extremos.</p>
<p><span class="math display">\[R = X_{máx} - X_{mín}\]</span></p>
<p>Donde:</p>
<ul>
<li><p><span class="math inline">\(X_{máx}\)</span> es el valor máximo en el conjunto de datos.</p></li>
<li><p><span class="math inline">\(X_{mín}\)</span> es el valor mínimo en el conjunto de datos.</p></li>
</ul>
<p>###Varianza (<span class="math inline">\(s^2\)</span> o <span class="math inline">\(σ^2\)</span>)</p>
<p>La <strong>varianza</strong> mide la dispersión promedio de cada punto de datos con respecto a la media. Cuanto mayor sea la varianza, más dispersos estarán los datos.</p>
<p>Para una <strong>muestra</strong> (varianza muestral):</p>
<p><span class="math display">\[s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}\]</span></p>
<p>Para una <strong>población</strong> (varianza poblacional):</p>
<p><span class="math display">\[\sigma^2 = \frac{\sum_{i=1}^{N} (x_i - \mu)^2}{N}\]</span></p>
<p>Donde:</p>
<ul>
<li><p><span class="math inline">\(s^2\)</span> es la varianza muestral.</p></li>
<li><p><span class="math inline">\(σ^2\)</span> es la varianza poblacional.</p></li>
<li><p><span class="math inline">\(x_i\)</span> es cada valor individual.</p></li>
<li><p><span class="math inline">\(\bar{x}\)</span> es la media muestral.</p></li>
<li><p><span class="math inline">\(\mu\)</span> es la media poblacional.</p></li>
<li><p><span class="math inline">\(n\)</span> es el número de observaciones en la muestra.</p></li>
<li><p><span class="math inline">\(N\)</span> es el número de observaciones en la población.</p></li>
</ul>
</section>
<section id="desviación-estándar-s-o-σ" class="level3">
<h3 class="anchored" data-anchor-id="desviación-estándar-s-o-σ">Desviación Estándar (<span class="math inline">\(s\)</span> o <span class="math inline">\(σ\)</span>)</h3>
<p>La <strong>desviación estándar</strong> es la raíz cuadrada de la varianza. Es una medida de dispersión más interpretable que la varianza, ya que está en las mismas unidades que los datos originales. Nos dice la dispersión típica de los datos alrededor de la media.</p>
<p>Para una <strong>muestra</strong> (desviación estándar muestral): <span class="math display">\[s = \sqrt{s^2} = \sqrt{\frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}}\]</span></p>
<p>Para una <strong>población</strong> (desviación estándar poblacional): <span class="math display">\[\sigma = \sqrt{\sigma^2} = \sqrt{\frac{\sum_{i=1}^{N} (x_i - \mu)^2}{N}}\]</span></p>
</section>
</section>
<section id="medidas-de-relación" class="level2">
<h2 class="anchored" data-anchor-id="medidas-de-relación">Medidas de Relación</h2>
<p>Estas medidas nos ayudan a entender la relación entre dos o más variables.</p>
<section id="correlación-r" class="level3">
<h3 class="anchored" data-anchor-id="correlación-r">Correlación (r)</h3>
<p>La <strong>correlación</strong> mide la fuerza y la dirección de una relación lineal entre dos variables numéricas. El coeficiente de correlación de Pearson (r) varía entre -1 y +1.</p>
<ul>
<li><p>Un valor cercano a +1 indica una fuerte correlación positiva (a medida que una variable aumenta, la otra también lo hace).</p></li>
<li><p>Un valor cercano a -1 indica una fuerte correlación negativa (a medida que una variable aumenta, la otra disminuye).</p></li>
<li><p>Un valor cercano a 0 indica poca o ninguna correlación lineal.</p></li>
</ul>
<p><span class="math display">\[r = \frac{n \sum(x_i y_i) - (\sum x_i)(\sum y_i)}{\sqrt{[n \sum x_i^2 - (\sum x_i)^2][n \sum y_i^2 - (\sum y_i)^2]}}\]</span></p>
<p>Donde:</p>
<ul>
<li><p><span class="math inline">\(n\)</span> es el número de pares de datos.</p></li>
<li><p><span class="math inline">\(x_i\)</span> e <span class="math inline">\(y_i\)</span> son los valores individuales de las dos variables.</p></li>
<li><p><span class="math inline">\(\sum{x_i y_i}\)</span> es la suma de los productos de cada par de valores.</p></li>
<li><p><span class="math inline">\(\sum{x_i}\)</span>, <span class="math inline">\(\sum{y_i}\)</span>, <span class="math inline">\(\sum{x_i^2}\)</span>, <span class="math inline">\(\sum{y_i^2}\)</span> son las sumas de los valores y los cuadrados de los valores, respectivamente.</p></li>
</ul>
</section>
</section>
<section id="estadística-descriptiva-multivariada" class="level2">
<h2 class="anchored" data-anchor-id="estadística-descriptiva-multivariada">Estadística Descriptiva Multivariada</h2>
<p>En paleontología, raramente trabajamos con una sola variable. Los organismos son complejos, los ecosistemas interactúan, y los datos que recolectamos son inherentemente multivariados. La estadística descriptiva multivariada nos permite explorar relaciones y patrones en conjuntos de datos con múltiples variables simultáneamente.</p>
<section id="análisis-de-componentes-principales-pca" class="level3">
<h3 class="anchored" data-anchor-id="análisis-de-componentes-principales-pca">Análisis de Componentes Principales (PCA)</h3>
<p>El <strong>Análisis de Componentes Principales</strong> (PCA por sus siglas en inglés: <em>Principal Component Analysis</em>) es una técnica de reducción de dimensionalidad. Su objetivo es transformar un conjunto de variables posiblemente correlacionadas en un nuevo conjunto de variables no correlacionadas llamadas componentes principales. Los primeros componentes principales capturan la mayor parte de la varianza total en los datos, permitiéndonos visualizar y entender la estructura subyacente en conjuntos de datos complejos con muchas variables.</p>
<p><strong>Aplicación en Paleontología</strong>: Se usa comúnmente para analizar datos morfométricos (por ejemplo, muchas medidas de un cráneo o partes del poscráneo) para identificar las principales direcciones de variación morfológica y agrupar especímenes con formas similares.</p>
</section>
<section id="análisis-de-correspondencias-simples-ca" class="level3">
<h3 class="anchored" data-anchor-id="análisis-de-correspondencias-simples-ca">Análisis de Correspondencias Simples (CA)</h3>
<p>El <strong>Análisis de Correspondencias Simples</strong> (CA por sus siglas en inglés: <em>Correspondence Analysis</em>) es una técnica exploratoria utilizada para visualizar la relación entre las filas y las columnas de una tabla de contingencia (frecuencias o proporciones). Permite detectar asociaciones entre categorías de variables cualitativas y representarlas gráficamente en un espacio de baja dimensionalidad.</p>
<p><strong>Aplicación en Paleontología</strong>: Útil para analizar la asociación entre diferentes taxones fósiles y los tipos de sedimento donde se encuentran, o entre la presencia de ciertas especies y las condiciones paleoambientales inferidas.</p>
</section>
<section id="análisis-de-correspondencias-múltiples-mca" class="level3">
<h3 class="anchored" data-anchor-id="análisis-de-correspondencias-múltiples-mca">Análisis de Correspondencias Múltiples (MCA)</h3>
<p>El <strong>Análisis de Correspondencias Múltiples</strong> (MCA por sus siglas en inglés: <em>Multiple Correspondence Analysis</em>) es una extensión del CA que permite analizar las relaciones entre más de dos variables cualitativas. Es útil cuando tenemos múltiples variables categóricas y queremos explorar cómo se asocian entre sí y cómo los individuos (o especímenes) se agrupan en función de estas categorías.</p>
<p><strong>Aplicación en Paleontología</strong>: Podría usarse para analizar la distribución de múltiples características de un fósil (tipo de dentición, forma de las extremidades, tipo de dieta inferida) a través de diferentes grupos taxonómicos o estratos geológicos.</p>
</section>
<section id="métodos-de-clasificación-clustering" class="level3">
<h3 class="anchored" data-anchor-id="métodos-de-clasificación-clustering">Métodos de Clasificación (Clustering)</h3>
<p>Los <strong>métodos de clasificación</strong> (también conocidos como <em>clustering</em> o análisis de agrupamiento) son técnicas utilizadas para agrupar objetos o individuos en clases o grupos, de manera que los objetos dentro de un mismo grupo son más similares entre sí que a los objetos en otros grupos. No requieren información previa sobre la pertenencia a un grupo, lo que los convierte en métodos “no supervisados”.</p>
<p>Existen varios algoritmos, como:</p>
<ul>
<li><p><strong>Clustering jerárquico</strong>: Crea una jerarquía de clústeres, que se puede visualizar en un dendrograma.</p></li>
<li><p><strong>K-means</strong>: Agrupa los datos en un número predefinido de clústeres (<span class="math inline">\(k\)</span>).</p></li>
</ul>
<p><strong>Aplicación en Paleontología</strong>: Indispensable para la <strong>taxonomía numérica</strong>, donde se agrupan especímenes fósiles basándose en múltiples características morfológicas para identificar posibles nuevas especies o variedades. También se usa para agrupar localidades fósiles con composiciones faunísticas o florísticas similares, lo que puede indicar paleoambientes o paleocomunidades específicas.</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>